%!TEX root = main.tex

Normal form: $A \veebar B$, where $A$ is the Aczel-part and $B$ is the essence-part. More precisely, $B$ is a boolean expression having as atoms the essence things of the form $\Essence\Placeholder$

\subsection{Boolean expressions}

\begin{coqdoccode}
\coqdocemptyline
\end{coqdoccode}
We use the inductive type @\coqdef{NFO.BoolExpr.BExpr}{BExpr}{\coqdocinductive{BExpr}} \coqdocvar{X} to encode a boolean expression whose atoms have type \coqdocvar{X}:

\begin{coqdoccode}
\coqdocnoindent
\coqdockw{Inductive} \coqdefRef{NFO.BoolExpr.BExpr}{BExpr}{\coqdocinductive{BExpr}} \{\coqdocvar{X}\} :=\coqdoceol
\coqdocindent{1.00em}
\ensuremath{|} \coqdefRef{NFO.BoolExpr.Bot}{Bot}{\coqdocconstructor{Bot}} : \coqref{NFO.BoolExpr.BExpr}{\coqdocinductive{BExpr}}\coqdoceol
\coqdocindent{1.00em}
\ensuremath{|} \coqdefRef{NFO.BoolExpr.Atom}{Atom}{\coqdocconstructor{Atom}} : \coqdocvariable{X} \coqexternalref{::type scope:x '->' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqref{NFO.BoolExpr.BExpr}{\coqdocinductive{BExpr}}\coqdoceol
\coqdocindent{1.00em}
\ensuremath{|} \coqdefRef{NFO.BoolExpr.Not}{Not}{\coqdocconstructor{Not}} : \coqref{NFO.BoolExpr.BExpr}{\coqdocinductive{BExpr}} \coqexternalref{::type scope:x '->' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqref{NFO.BoolExpr.BExpr}{\coqdocinductive{BExpr}}\coqdoceol
\coqdocindent{1.00em}
\ensuremath{|} \coqdefRef{NFO.BoolExpr.Or}{Or}{\coqdocconstructor{Or}} : \coqref{NFO.BoolExpr.BExpr}{\coqdocinductive{BExpr}} \coqexternalref{::type scope:x '->' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqref{NFO.BoolExpr.BExpr}{\coqdocinductive{BExpr}} \coqexternalref{::type scope:x '->' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqref{NFO.BoolExpr.BExpr}{\coqdocinductive{BExpr}}\coqdoceol
\coqdocnoindent
.\coqdoceol
\coqdocemptyline
\end{coqdoccode}

\coqdef{NFO.BoolExpr.Bot}{Bot}{\coqdocconstructor{Bot}} represents the constant false expression, \coqdef{NFO.BoolExpr.Or}{Or}{\coqdocconstructor{Or}} and \coqdef{NFO.BoolExpr.Not}{Not}{\coqdocconstructor{Not}} the usual boolean operators, \dots We do not ??? the other logical connectives, like conjunction or implication, because disjunction and complement are functionally complete for classical logic.

Map the atoms in a boolean expression:

\begin{coqdoccode}
\coqdocnoindent
\coqdockw{Fixpoint} \coqdef{NFO.BoolExpr.map}{map}{\coqdocdefinition{map}} \{\coqdocvar{X} \coqdocvar{Y}\} (\coqdocvar{f}: \coqdocvariable{X} \coqexternalref{::type scope:x '->' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdocvariable{Y}) (\coqdocvar{e}: \coqref{NFO.BoolExpr.BExpr}{\coqdocinductive{BExpr}}) : \coqref{NFO.BoolExpr.BExpr}{\coqdocinductive{BExpr}} :=\coqdoceol
\coqdocnoindent
\coqdockw{match} \coqdocvariable{e} \coqdockw{with}\coqdoceol
\coqdocindent{1.00em}
\ensuremath{|} \coqref{NFO.BoolExpr.Atom}{\coqdocconstructor{Atom}} \coqdocvar{a} \ensuremath{\Rightarrow} \coqref{NFO.BoolExpr.Atom}{\coqdocconstructor{Atom}} (\coqdocvariable{f} \coqdocvar{a})\coqdoceol
\coqdocindent{1.00em}
\ensuremath{|} \coqref{NFO.BoolExpr.Bot}{\coqdocconstructor{Bot}} \ensuremath{\Rightarrow} \coqref{NFO.BoolExpr.Bot}{\coqdocconstructor{Bot}}\coqdoceol
\coqdocindent{1.00em}
\ensuremath{|} \coqref{NFO.BoolExpr.Not}{\coqdocconstructor{Not}} \coqdocvar{e} \ensuremath{\Rightarrow} \coqref{NFO.BoolExpr.Not}{\coqdocconstructor{Not}} (\coqref{NFO.BoolExpr.map}{\coqdocdefinition{map}} \coqdocvariable{f} \coqdocvariable{e})\coqdoceol
\coqdocindent{1.00em}
\ensuremath{|} \coqref{NFO.BoolExpr.Or}{\coqdocconstructor{Or}} \coqdocvar{e} \coqdocvar{e'} \ensuremath{\Rightarrow} \coqref{NFO.BoolExpr.Or}{\coqdocconstructor{Or}} (\coqref{NFO.BoolExpr.map}{\coqdocdefinition{map}} \coqdocvariable{f} \coqdocvariable{e}) (\coqref{NFO.BoolExpr.map}{\coqdocdefinition{map}} \coqdocvariable{f} \coqdocvar{e'})\coqdoceol
\coqdocnoindent
\coqdockw{end}.\coqdoceol
\coqdocemptyline
\end{coqdoccode}

Evaluate a boolean expression to a \coqdockw{Prop} 
when the atoms are of type \coqdockw{Prop}:

\begin{coqdoccode}
\coqdocnoindent
\coqdockw{Fixpoint} \coqdefRef{NFO.BoolExpr.eval}{eval}{\coqdocdefinition{eval}} (\coqdocvar{e}: \coqref{NFO.BoolExpr.BExpr}{\coqdocinductive{BExpr}}) := \coqdockw{match} \coqdocvariable{e} \coqdockw{with}\coqdoceol
\coqdocindent{1.00em}
\ensuremath{|} \coqref{NFO.BoolExpr.Atom}{\coqdocconstructor{Atom}} \coqdocvar{p} \ensuremath{\Rightarrow} \coqdocvar{p}\coqdoceol
\coqdocindent{1.00em}
\ensuremath{|} \coqref{NFO.BoolExpr.Bot}{\coqdocconstructor{Bot}} \ensuremath{\Rightarrow} \coqexternalref{False}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocinductive{False}}\coqdoceol
\coqdocindent{1.00em}
\ensuremath{|} \coqref{NFO.BoolExpr.Not}{\coqdocconstructor{Not}} \coqdocvar{e} \ensuremath{\Rightarrow} \coqexternalref{::type scope:'x7E' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\lnot}}} \coqref{NFO.BoolExpr.eval}{\coqdocdefinition{eval}} \coqdocvariable{e}\coqdoceol
\coqdocindent{1.00em}
\ensuremath{|} \coqref{NFO.BoolExpr.Or}{\coqdocconstructor{Or}} \coqdocvar{e} \coqdocvar{e'} \ensuremath{\Rightarrow} \coqref{NFO.BoolExpr.eval}{\coqdocdefinition{eval}} \coqdocvariable{e} \coqexternalref{::type scope:x 'x5C/' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\lor}}} \coqref{NFO.BoolExpr.eval}{\coqdocdefinition{eval}} \coqdocvar{e'}\coqdoceol
\coqdocnoindent
\coqdockw{end}.\coqdoceol
\coqdocnoindent
\coqdockw{Notation} \coqdef{NFO.BoolExpr.:::'xE2x9FxA6' x 'xE2x9FxA7'}{"}{"}⟦ e ⟧" := (\coqref{NFO.BoolExpr.eval}{\coqdocdefinition{eval}} \coqdocvar{e}).\coqdoceol
\coqdocemptyline
\end{coqdoccode}


The usual property about compositions of maps:

\begin{coqdoccode}
\coqdocnoindent
\coqdockw{Lemma} \coqdef{NFO.BoolExpr.map compose}{map\_compose}{\coqdoclemma{map\_compose}} \{\coqdocvar{X} \coqdocvar{Y} \coqdocvar{Z}\} \{\coqdocvar{f}: \coqdocvariable{Y} \coqexternalref{::type scope:x '->' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdocvariable{Z}\} \{\coqdocvar{g}: \coqdocvariable{X} \coqexternalref{::type scope:x '->' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdocvariable{Y}\} \{\coqdocvar{e}\}:\coqdoceol
\coqdocindent{1.00em}
\coqref{NFO.BoolExpr.map}{\coqdocdefinition{map}} \coqdocvariable{f} (\coqref{NFO.BoolExpr.map}{\coqdocdefinition{map}} \coqdocvariable{g} \coqdocvariable{e}) \coqexternalref{::type scope:x '=' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{=}} \coqref{NFO.BoolExpr.map}{\coqdocdefinition{map}} (\coqdocvariable{f} \coqexternalref{::program scope:x 'xE2x88x98' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Program.Basics}{\coqdocnotation{∘}} \coqdocvariable{g}) \coqdocvariable{e}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Lemma} \coqdef{NFO.BoolExpr.map compose inl}{map\_compose\_inl}{\coqdoclemma{map\_compose\_inl}} \{\coqdocvar{X} \coqdocvar{Y} \coqdocvar{Z}\} \{\coqdocvar{f}: \coqdocvariable{X} \coqexternalref{::type scope:x '->' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdocvariable{Z}\} \{\coqdocvar{g}: \coqdocvariable{Y} \coqexternalref{::type scope:x '->' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdocvariable{Z}\} \{\coqdocvar{e}\}:\coqdoceol
\coqdocindent{1.00em}
\coqref{NFO.BoolExpr.map}{\coqdocdefinition{map}} (\coqexternalref{::program scope:x 'xE2x88x98' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Program.Basics}{\coqdocnotation{(}}\coqdocvariable{f} \coqref{Internal.Misc.:::x 'xE2xA8x81' x}{\coqdocnotation{⨁}} \coqdocvariable{g}\coqexternalref{::program scope:x 'xE2x88x98' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Program.Basics}{\coqdocnotation{)}} \coqexternalref{::program scope:x 'xE2x88x98' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Program.Basics}{\coqdocnotation{∘}} \coqexternalref{inl}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocconstructor{inl}}) \coqdocvariable{e} \coqexternalref{::type scope:x '=' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{=}} \coqref{NFO.BoolExpr.map}{\coqdocdefinition{map}} \coqdocvariable{f} \coqdocvariable{e}.\coqdoceol
  \coqdocemptyline
\coqdocnoindent
\coqdockw{Lemma} \coqdef{NFO.BoolExpr.map compose inr}{map\_compose\_inr}{\coqdoclemma{map\_compose\_inr}} \{\coqdocvar{X} \coqdocvar{Y} \coqdocvar{Z}\} \{\coqdocvar{f}: \coqdocvariable{X} \coqexternalref{::type scope:x '->' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdocvariable{Z}\} \{\coqdocvar{g}: \coqdocvariable{Y} \coqexternalref{::type scope:x '->' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdocvariable{Z}\} \{\coqdocvar{e}\}:\coqdoceol
\coqdocindent{1.00em}
\coqref{NFO.BoolExpr.map}{\coqdocdefinition{map}} (\coqexternalref{::program scope:x 'xE2x88x98' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Program.Basics}{\coqdocnotation{(}}\coqdocvariable{f} \coqref{Internal.Misc.:::x 'xE2xA8x81' x}{\coqdocnotation{⨁}} \coqdocvariable{g}\coqexternalref{::program scope:x 'xE2x88x98' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Program.Basics}{\coqdocnotation{)}} \coqexternalref{::program scope:x 'xE2x88x98' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Program.Basics}{\coqdocnotation{∘}} \coqexternalref{inr}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocconstructor{inr}}) \coqdocvariable{e} \coqexternalref{::type scope:x '=' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{=}} \coqref{NFO.BoolExpr.map}{\coqdocdefinition{map}} \coqdocvariable{g} \coqdocvariable{e}.\coqdoceol
  \coqdocemptyline
\end{coqdoccode}

\subsubsection{Semantics}

As usual, two boolean expressions (with atoms of type \coqdocvariable{X}) are equivalent if and only if 
they evaluate to equivalent values with respect to every
truth assignment \coqdocvar{P}: \coqdocvariable{X} \coqdocnotation{\ensuremath{\rightarrow}} \coqdockw{Prop}. However, not every assignment is allowed here.
In our case, the set of atoms \coqdocvariable{X} is \TODO{ultimately meant to be SET, which is } equipped with a setoid structure (\coqdocvariable{SET}, \coqdocvar{EQ}), hence $\coqdocvar{P}$ must assign the same truth value to atoms that are equivalent according to $\coqdocvar{R}$. In general, $\coqdocvar{P}$ should be a $(\coqdocvariable{X}, \coqdocvar{R})$-morphism, \ie{} it should respect a binary relation $\coqdocvar{R}$.  \dots

As a consequence, we parametrize the $\coqdocdefinition{eq\_bexpr}$ on a binary relation $\coqdocvar{R}$ over $\coqdocvariable{X}$, and only quantify over assignments $\coqdocvar{P}$ such that $\coqref{Internal.FunExt.respects}{\coqdocdefinition{respects}}~\coqdocvariable{R}~\coqdocvariable{P}$\, holds:
    
\begin{coqdoccode}
\coqdocnoindent
\coqdockw{Definition} \coqdefRef{NFO.BoolExpr.eq\_bexpr}{eq\_bexpr}{\coqdocdefinition{eq\_bexpr}} \{\coqdocvar{X}\} (\coqdocvar{R}: \coqdocvariable{X} \coqexternalref{::type scope:x '->' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdocvariable{X} \coqexternalref{::type scope:x '->' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdockw{Prop}) \coqdocvar{e} \coqdocvar{e'} :=\coqdoceol
\coqdocindent{1.00em}
\coqdockw{\ensuremath{\forall}} \coqdocvar{P}, \coqref{Internal.FunExt.respects}{\coqdocdefinition{respects}} \coqdocvariable{R} \coqdocvariable{P} \coqexternalref{::type scope:x '->' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqref{NFO.BoolExpr.:::'xE2x9FxA6' x 'xE2x9FxA7'}{\coqdocnotation{⟦}}\coqref{NFO.BoolExpr.map}{\coqdocdefinition{map}} \coqdocvariable{P} \coqdocvariable{e}\coqref{NFO.BoolExpr.:::'xE2x9FxA6' x 'xE2x9FxA7'}{\coqdocnotation{⟧}} \coqexternalref{::type scope:x '<->' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\leftrightarrow}}} \coqref{NFO.BoolExpr.:::'xE2x9FxA6' x 'xE2x9FxA7'}{\coqdocnotation{⟦}}\coqref{NFO.BoolExpr.map}{\coqdocdefinition{map}} \coqdocvariable{P} \coqdocvariable{e'}\coqref{NFO.BoolExpr.:::'xE2x9FxA6' x 'xE2x9FxA7'}{\coqdocnotation{⟧}}.\coqdoceol
\coqdocemptyline
\end{coqdoccode}

\subsection{Model}

\begin{coqdoccode}
  \coqdocnoindent
\coqdockw{Inductive} \coqdefRef{NFO.Model.SET}{SET}{\coqdocinductive{SET}} :=\coqdoceol
\coqdocindent{1.00em}
\coqdef{NFO.Model.S}{S}{\coqdocconstructor{S}} : \coqdockw{\ensuremath{\forall}} \coqdocvar{X} \coqdocvar{Y} (\coqdocvar{f}: \coqdocvariable{X} \coqexternalref{::type scope:x '->' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqref{NFO.Model.SET}{\coqdocinductive{SET}}) (\coqdocvar{g}: \coqdocvariable{Y} \coqexternalref{::type scope:x '->' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqref{NFO.Model.SET}{\coqdocinductive{SET}}) (\coqdocvar{e}: @\coqref{NFO.BoolExpr.BExpr}{\coqdocinductive{BExpr}} \coqdocvariable{Y}), \coqref{NFO.Model.SET}{\coqdocinductive{SET}}.\coqdoceol
\coqdocemptyline
\coqdocnoindent
\end{coqdoccode}

\subsection{Extensional Equality}

XXX

\begin{coqdoccode}
\coqdocnoindent
\sout{\coqdockw{Definition}} \coqdoclemma{EQ} \coqdocvar{s} \coqdocvar{s'} := \coqdockw{match} \coqdocvariable{s}, \coqdocvariable{s'} \coqdockw{with}\coqdoceol
\coqdocindent{2.00em}
\ensuremath{|} \coqexternalref{::core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocnotation{(}}\coqref{NFO.Model.S}{\coqdocconstructor{S}} \coqdocvar{X} \coqdocvar{Y} \coqdocvar{f} \coqdocvar{g} \coqdocvar{e}\coqexternalref{::core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocnotation{,}} \coqref{NFO.Model.S}{\coqdocconstructor{S}} \coqdocvar{X'} \coqdocvar{Y'} \coqdocvar{f'} \coqdocvar{g'} \coqdocvar{e'}\coqexternalref{::core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocnotation{)}} \ensuremath{\Rightarrow} \coqdoceol

\coqdocindent{4.00em} \coqdocvar{f} $\AEQ$ \coqdocvar{f'} % \coqdoceol
% 
% \coqdocindent{4.00em}
 \coqexternalref{::type scope:x '/x5C' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\land}}} \coqref{NFO.BoolExpr.eq bexpr}{\coqdocdefinition{eq\_bexpr}} \coqref{NFO.Eq.EQ}{\coqdocdefinition{EQ}} (\coqref{NFO.BoolExpr.map}{\coqdocdefinition{map}} \coqdocvariable{g} \coqdocvariable{e}) (\coqref{NFO.BoolExpr.map}{\coqdocdefinition{map}} \coqdocvariable{g'} \coqdocvariable{e'}).\coqdoceol
\coqdocnoindent
\end{coqdoccode}

XXX

\begin{coqdoccode}
\coqdocnoindent
\coqdockw{Local} \coqdockw{Definition} \coqdefRef{NFO.Eq.EQ'}{EQ'}{\coqdocdefinition{EQ'}} : \coqref{NFO.Model.SET}{\coqdocinductive{SET}} \coqexternalref{::type scope:x '*' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocnotation{\ensuremath{\times}}} \coqref{NFO.Model.SET}{\coqdocinductive{SET}} \coqexternalref{::type scope:x '->' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdockw{Prop}.\coqdoceol
\coqdocnoindent
\coqdoctac{refine} ( \coqexternalref{Fix}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Wf}{\coqdocdefinition{Fix}} (\coqref{Internal.WfTuples.wf two}{\coqdoclemma{wf\_two}} \coqref{NFO.Model.wf lt}{\coqdoclemma{wf\_lt}}) (\coqdockw{fun} \coqdocvar{\_} \ensuremath{\Rightarrow} \coqdockw{Prop}) (\coqdoceol
\coqdocindent{1.00em}
\coqdockw{fun} \coqdocvar{x} \coqdocvar{rec} \ensuremath{\Rightarrow} (\coqdoceol
\coqdocindent{2.00em}
\coqdockw{match} \coqdocvariable{x} \coqdockw{as} \coqdocvar{x0} \coqdockw{return} (\coqdocvariable{x} \coqexternalref{::type scope:x '=' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{=}} \coqdocvariable{x0} \coqexternalref{::type scope:x '->' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdockw{Prop}) \coqdockw{with}\coqdoceol
\coqdocindent{2.00em}
\ensuremath{|} \coqexternalref{::core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocnotation{(}}\coqref{NFO.Model.S}{\coqdocconstructor{S}} \coqdocvar{X} \coqdocvar{Y} \coqdocvar{f} \coqdocvar{g} \coqdocvar{e}\coqexternalref{::core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocnotation{,}} \coqref{NFO.Model.S}{\coqdocconstructor{S}} \coqdocvar{X'} \coqdocvar{Y'} \coqdocvar{f'} \coqdocvar{g'} \coqdocvar{e'}\coqexternalref{::core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocnotation{)}} \ensuremath{\Rightarrow} \coqdockw{fun} \coqdocvar{eqx} \ensuremath{\Rightarrow}\coqdoceol
\coqdocindent{4.00em}
\coqexternalref{::type scope:x '/x5C' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{((}}\coqdockw{\ensuremath{\forall}} \coqdocvar{x}, \coqexternalref{::type scope:'exists' x '..' x ',' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\exists}}} \coqdocvar{x'}\coqexternalref{::type scope:'exists' x '..' x ',' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{,}} \coqdocvariable{rec} \coqexternalref{::core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvar{f} \coqdocvariable{x}\coqexternalref{::core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvar{f'} \coqdocvariable{x'}\coqexternalref{::core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocnotation{)}} \coqdocvar{\_}\coqexternalref{::type scope:x '/x5C' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{)}}\coqdoceol
\coqdocindent{4.00em}
\coqexternalref{::type scope:x '/x5C' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\land}}} \coqexternalref{::type scope:x '/x5C' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{(}}\coqdockw{\ensuremath{\forall}} \coqdocvar{x'}, \coqexternalref{::type scope:'exists' x '..' x ',' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\exists}}} \coqdocvar{x}\coqexternalref{::type scope:'exists' x '..' x ',' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{,}} \coqdocvariable{rec} \coqexternalref{::core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvar{f} \coqdocvariable{x}\coqexternalref{::core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvar{f'} \coqdocvariable{x'}\coqexternalref{::core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocnotation{)}} \coqdocvar{\_}\coqexternalref{::type scope:x '/x5C' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{))}}\coqdoceol
\coqdocindent{4.00em}
\coqexternalref{::type scope:x '/x5C' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\land}}} \coqdockw{let} \coqdocvar{R} (\coqdocvar{yy} \coqdocvar{yy'}: \coqdocvar{Y} \coqexternalref{::type scope:x '+' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocnotation{+}} \coqdocvar{Y'}) := \coqdockw{match} \coqdocvariable{yy}, \coqdocvariable{yy'} \coqdockw{with}\coqdoceol
\coqdocindent{5.00em}
\ensuremath{|} \coqexternalref{inl}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocconstructor{inl}} \coqdocvar{y}, \coqexternalref{inl}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocconstructor{inl}} \coqdocvar{y'} \ensuremath{\Rightarrow} \coqdocvariable{rec} \coqexternalref{::core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvar{g} \coqdocvar{y}\coqexternalref{::core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvar{g} \coqdocvar{y'}\coqexternalref{::core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocnotation{)}} \coqdocvar{\_}\coqdoceol
\coqdocindent{5.00em}
\ensuremath{|} \coqexternalref{inl}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocconstructor{inl}} \coqdocvar{y}, \coqexternalref{inr}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocconstructor{inr}} \coqdocvar{y'} \ensuremath{\Rightarrow} \coqdocvariable{rec} \coqexternalref{::core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvar{g} \coqdocvar{y}\coqexternalref{::core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvar{g'} \coqdocvar{y'}\coqexternalref{::core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocnotation{)}} \coqdocvar{\_}\coqdoceol
\coqdocindent{5.00em}
\ensuremath{|} \coqexternalref{inr}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocconstructor{inr}} \coqdocvar{y}, \coqexternalref{inl}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocconstructor{inl}} \coqdocvar{y'} \ensuremath{\Rightarrow} \coqdocvariable{rec} \coqexternalref{::core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvar{g'} \coqdocvar{y}\coqexternalref{::core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvar{g} \coqdocvar{y'}\coqexternalref{::core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocnotation{)}} \coqdocvar{\_}\coqdoceol
\coqdocindent{5.00em}
\ensuremath{|} \coqexternalref{inr}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocconstructor{inr}} \coqdocvar{y}, \coqexternalref{inr}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocconstructor{inr}} \coqdocvar{y'} \ensuremath{\Rightarrow} \coqdocvariable{rec} \coqexternalref{::core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvar{g'} \coqdocvar{y}\coqexternalref{::core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvar{g'} \coqdocvar{y'}\coqexternalref{::core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocnotation{)}} \coqdocvar{\_}\coqdoceol
\coqdocindent{5.00em}
\coqdockw{end} \coqdoctac{in} \coqdoceol
\coqdocindent{5.00em}
\coqref{NFO.BoolExpr.eq bexpr}{\coqdocdefinition{eq\_bexpr}} \coqdocvariable{R} (\coqref{NFO.BoolExpr.map}{\coqdocdefinition{map}} \coqexternalref{inl}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocconstructor{inl}} \coqdocvar{e}) (\coqref{NFO.BoolExpr.map}{\coqdocdefinition{map}} \coqexternalref{inr}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocconstructor{inr}} \coqdocvar{e'})\coqdoceol
\coqdocindent{2.00em}
\coqdockw{end}) \coqexternalref{eq refl}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocconstructor{eq\_refl}}\coqdoceol
\coqdocindent{0.50em}
))\coqdoceol
\coqdocindent{0.50em}
; \coqdoctac{rewrite} \coqdocvar{eqx}; \coqdoctac{eauto} \coqdockw{with} \coqdocvar{Wff}.\coqdoceol
\coqdocnoindent
\coqdockw{Defined}.\coqdoceol
\coqdocnoindent
\coqdockw{Definition} \coqdef{NFO.Eq.EQ}{EQ}{\coqdocdefinition{EQ}} \coqdocvar{s} \coqdocvar{s'} := \coqref{NFO.Eq.EQ'}{\coqdocdefinition{EQ'}} \coqexternalref{::core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvariable{s}\coqexternalref{::core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{s'}\coqexternalref{::core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocnotation{)}}.\coqdoceol
\end{coqdoccode}

XXX

\TODO{copied here property of EQ boolean:}

This lemma is quite important: it will show that our initial
definition of NFO equality is correct.
TODO: Because: we wanted to write the rhs, but we had to write
the lhs in order to be able to prove termination.

\begin{coqdoccode}
\coqdocnoindent
\coqdockw{Lemma} \coqdef{NFO.BoolExpr.eq bexpr simpl}{eq\_bexpr\_simpl}{\coqdoclemma{eq\_bexpr\_simpl}}:\coqdoceol
\coqdocindent{1.00em}
\coqdockw{\ensuremath{\forall}} \{\coqdocvar{Y} \coqdocvar{Y'} \coqdocvar{Z} \coqdocvar{R}\} \{\coqdocvar{g}: \coqdocvariable{Y} \coqexternalref{::type scope:x '->' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdocvariable{Z}\} \{\coqdocvar{g'}: \coqdocvariable{Y'} \coqexternalref{::type scope:x '->' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdocvariable{Z}\} \{\coqdocvar{e} \coqdocvar{e'}\},\coqdoceol
\coqdocindent{2.00em}
\coqexternalref{Equivalence}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Classes.RelationClasses}{\coqdocclass{Equivalence}} \coqdocvariable{R} \coqexternalref{::type scope:x '->' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}}\coqdoceol
\coqdocindent{3.00em}
\coqref{NFO.BoolExpr.eq bexpr}{\coqdocdefinition{eq\_bexpr}} (\coqdocvariable{R} \coqref{Internal.Misc.:::x 'xE2xA8x80' x}{\coqdocnotation{⨀}} \coqref{Internal.Misc.:::x 'xE2xA8x80' x}{\coqdocnotation{(}}\coqdocvariable{g} \coqref{Internal.Misc.:::x 'xE2xA8x81' x}{\coqdocnotation{⨁}} \coqdocvariable{g'}\coqref{Internal.Misc.:::x 'xE2xA8x80' x}{\coqdocnotation{)}}) (\coqref{NFO.BoolExpr.map}{\coqdocdefinition{map}} \coqexternalref{inl}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocconstructor{inl}} \coqdocvariable{e}) (\coqref{NFO.BoolExpr.map}{\coqdocdefinition{map}} \coqexternalref{inr}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocconstructor{inr}} \coqdocvariable{e'})\coqdoceol
\coqdocindent{4.00em}
\coqexternalref{::type scope:x '<->' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\leftrightarrow}}} \coqref{NFO.BoolExpr.eq bexpr}{\coqdocdefinition{eq\_bexpr}} \coqdocvariable{R} (\coqref{NFO.BoolExpr.map}{\coqdocdefinition{map}} \coqdocvariable{g} \coqdocvariable{e}) (\coqref{NFO.BoolExpr.map}{\coqdocdefinition{map}} \coqdocvariable{g'} \coqdocvariable{e'}).\coqdoceol
\coqdocemptyline
\end{coqdoccode}

\subsubsection{Detour: Well-founded Orders}


\subsubsection{Back to Equality}




\subsubsection{Equivalence TODO copied here eq bexpr}

In this section, we prove that eq\_bexpr is an equivalence relation.
Actually, we prove variations of the usual reflexivity, symmetry and
trasitivity. These variants are exactly what is needed to prove
that equality of NFO sets is an equivalence relation (see NFO.Eeq).
\begin{coqdoccode}
\coqdocemptyline
\coqdocnoindent
\coqdockw{Lemma} \coqdef{NFO.BoolExpr.eq bexpr refl}{eq\_bexpr\_refl}{\coqdoclemma{eq\_bexpr\_refl}} \{\coqdocvar{X} \coqdocvar{Y}\} \{\coqdocvar{f}: \coqdocvariable{X} \coqexternalref{::type scope:x '->' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdocvariable{Y}\} \{\coqdocvar{R}: \coqdocvariable{Y} \coqexternalref{::type scope:x '->' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdocvariable{Y} \coqexternalref{::type scope:x '->' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdockw{Prop}\} \{\coqdocvar{e}\}:\coqdoceol
\coqdocindent{2.00em}
\coqexternalref{::type scope:x '->' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{(}}\coqdockw{\ensuremath{\forall}} \coqdocvar{x}, \coqdocvariable{R} (\coqdocvariable{f} \coqdocvariable{x}) (\coqdocvariable{f} \coqdocvariable{x})\coqexternalref{::type scope:x '->' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{)}}\coqdoceol
\coqdocindent{3.00em}
\coqexternalref{::type scope:x '->' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqref{NFO.BoolExpr.eq bexpr}{\coqdocdefinition{eq\_bexpr}} (\coqdocvariable{R} \coqref{Internal.Misc.:::x 'xE2xA8x80' x}{\coqdocnotation{⨀}} \coqref{Internal.Misc.:::x 'xE2xA8x80' x}{\coqdocnotation{(}}\coqdocvariable{f} \coqref{Internal.Misc.:::x 'xE2xA8x81' x}{\coqdocnotation{⨁}} \coqdocvariable{f}\coqref{Internal.Misc.:::x 'xE2xA8x80' x}{\coqdocnotation{)}}) (\coqref{NFO.BoolExpr.map}{\coqdocdefinition{map}} \coqexternalref{inl}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocconstructor{inl}} \coqdocvariable{e}) (\coqref{NFO.BoolExpr.map}{\coqdocdefinition{map}} \coqexternalref{inr}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocconstructor{inr}} \coqdocvariable{e}).\coqdoceol
\coqdocemptyline
\coqdocnoindent
\coqdockw{Lemma} \coqdef{NFO.BoolExpr.eq bexpr sym}{eq\_bexpr\_sym}{\coqdoclemma{eq\_bexpr\_sym}} \{\coqdocvar{X} \coqdocvar{Y} \coqdocvar{Z} \coqdocvar{R}\} \{\coqdocvar{f}: \coqdocvariable{X} \coqexternalref{::type scope:x '->' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdocvariable{Z}\} \{\coqdocvar{g}: \coqdocvariable{Y} \coqexternalref{::type scope:x '->' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdocvariable{Z}\} \{\coqdocvar{e} \coqdocvar{e'}\} :\coqdoceol
\coqdocindent{1.00em}
\coqref{NFO.BoolExpr.eq bexpr}{\coqdocdefinition{eq\_bexpr}} (\coqdocvariable{R} \coqref{Internal.Misc.:::x 'xE2xA8x80' x}{\coqdocnotation{⨀}} \coqref{Internal.Misc.:::x 'xE2xA8x80' x}{\coqdocnotation{(}}\coqdocvariable{f} \coqref{Internal.Misc.:::x 'xE2xA8x81' x}{\coqdocnotation{⨁}} \coqdocvariable{g}\coqref{Internal.Misc.:::x 'xE2xA8x80' x}{\coqdocnotation{)}}) (\coqref{NFO.BoolExpr.map}{\coqdocdefinition{map}} \coqexternalref{inl}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocconstructor{inl}} \coqdocvariable{e}) (\coqref{NFO.BoolExpr.map}{\coqdocdefinition{map}} \coqexternalref{inr}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocconstructor{inr}} \coqdocvariable{e'})\coqdoceol
\coqdocindent{2.00em}
\coqexternalref{::type scope:x '->' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqref{NFO.BoolExpr.eq bexpr}{\coqdocdefinition{eq\_bexpr}} (\coqdocvariable{R} \coqref{Internal.Misc.:::x 'xE2xA8x80' x}{\coqdocnotation{⨀}} \coqref{Internal.Misc.:::x 'xE2xA8x80' x}{\coqdocnotation{(}}\coqdocvariable{g} \coqref{Internal.Misc.:::x 'xE2xA8x81' x}{\coqdocnotation{⨁}} \coqdocvariable{f}\coqref{Internal.Misc.:::x 'xE2xA8x80' x}{\coqdocnotation{)}}) (\coqref{NFO.BoolExpr.map}{\coqdocdefinition{map}} \coqexternalref{inl}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocconstructor{inl}} \coqdocvariable{e'}) (\coqref{NFO.BoolExpr.map}{\coqdocdefinition{map}} \coqexternalref{inr}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocconstructor{inr}} \coqdocvariable{e}).\coqdoceol
\coqdocemptyline
\end{coqdoccode}
TODO: This needs some love... \begin{coqdoccode}
\coqdocnoindent
\coqdockw{Lemma} \coqdef{NFO.BoolExpr.eq bexpr trans}{eq\_bexpr\_trans}{\coqdoclemma{eq\_bexpr\_trans}} \{\coqdocvar{X} \coqdocvar{Y} \coqdocvar{Z} \coqdocvar{W}\} \{\coqdocvar{R} : \coqdocvariable{W} \coqexternalref{::type scope:x '->' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdocvariable{W} \coqexternalref{::type scope:x '->' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdockw{Prop}\} \{\coqdocvar{f1} \coqdocvar{f2} \coqdocvar{f3}\}\coqdoceol
\coqdocindent{1.00em}
\{\coqdocvar{e1} : @\coqref{NFO.BoolExpr.BExpr}{\coqdocinductive{BExpr}} \coqdocvariable{X}\} \{\coqdocvar{e2} : @\coqref{NFO.BoolExpr.BExpr}{\coqdocinductive{BExpr}} \coqdocvariable{Y}\} \{\coqdocvar{e3} : @\coqref{NFO.BoolExpr.BExpr}{\coqdocinductive{BExpr}} \coqdocvariable{Z}\}\coqdoceol
\coqdocindent{1.00em}
:  \coqexternalref{::type scope:x '->' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{(}}\coqdockw{\ensuremath{\forall}} \coqdocvar{a} \coqdocvar{b}, \coqdocvariable{R} \coqdocvariable{a} \coqdocvariable{b} \coqexternalref{::type scope:x '->' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdocvariable{R} \coqdocvariable{b} \coqdocvariable{a}\coqexternalref{::type scope:x '->' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{)}}\coqdoceol
\coqdocindent{1.00em}
\coqexternalref{::type scope:x '->' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqexternalref{::type scope:x '->' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{(}}\coqdockw{\ensuremath{\forall}} \coqdocvar{a} \coqdocvar{b} \coqdocvar{c}, \coqref{Internal.Misc.inv3}{\coqdocdefinition{inv3}} \coqdocvariable{f1} \coqdocvariable{f2} \coqdocvariable{f3} \coqdocvariable{a} \coqexternalref{::type scope:x '->' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqref{Internal.Misc.inv3}{\coqdocdefinition{inv3}} \coqdocvariable{f1} \coqdocvariable{f2} \coqdocvariable{f3} \coqdocvariable{b} \coqexternalref{::type scope:x '->' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqref{Internal.Misc.inv3}{\coqdocdefinition{inv3}} \coqdocvariable{f1} \coqdocvariable{f2} \coqdocvariable{f3} \coqdocvariable{c} \coqexternalref{::type scope:x '->' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdocvariable{R} \coqdocvariable{a} \coqdocvariable{b} \coqexternalref{::type scope:x '->' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdocvariable{R} \coqdocvariable{b} \coqdocvariable{c} \coqexternalref{::type scope:x '->' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdocvariable{R} \coqdocvariable{a} \coqdocvariable{c}\coqexternalref{::type scope:x '->' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{)}}\coqdoceol
\coqdocindent{1.00em}
\coqexternalref{::type scope:x '->' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqref{NFO.BoolExpr.eq bexpr}{\coqdocdefinition{eq\_bexpr}} (\coqdocvariable{R} \coqref{Internal.Misc.:::x 'xE2xA8x80' x}{\coqdocnotation{⨀}} \coqref{Internal.Misc.:::x 'xE2xA8x80' x}{\coqdocnotation{(}}\coqdocvariable{f1} \coqref{Internal.Misc.:::x 'xE2xA8x81' x}{\coqdocnotation{⨁}} \coqdocvariable{f2}\coqref{Internal.Misc.:::x 'xE2xA8x80' x}{\coqdocnotation{)}}) (\coqref{NFO.BoolExpr.map}{\coqdocdefinition{map}} \coqexternalref{inl}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocconstructor{inl}} \coqdocvariable{e1}) (\coqref{NFO.BoolExpr.map}{\coqdocdefinition{map}} \coqexternalref{inr}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocconstructor{inr}} \coqdocvariable{e2})\coqdoceol
\coqdocindent{1.00em}
\coqexternalref{::type scope:x '->' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqref{NFO.BoolExpr.eq bexpr}{\coqdocdefinition{eq\_bexpr}} (\coqdocvariable{R} \coqref{Internal.Misc.:::x 'xE2xA8x80' x}{\coqdocnotation{⨀}} \coqref{Internal.Misc.:::x 'xE2xA8x80' x}{\coqdocnotation{(}}\coqdocvariable{f2} \coqref{Internal.Misc.:::x 'xE2xA8x81' x}{\coqdocnotation{⨁}} \coqdocvariable{f3}\coqref{Internal.Misc.:::x 'xE2xA8x80' x}{\coqdocnotation{)}}) (\coqref{NFO.BoolExpr.map}{\coqdocdefinition{map}} \coqexternalref{inl}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocconstructor{inl}} \coqdocvariable{e2}) (\coqref{NFO.BoolExpr.map}{\coqdocdefinition{map}} \coqexternalref{inr}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocconstructor{inr}} \coqdocvariable{e3})\coqdoceol
\coqdocindent{1.00em}
\coqexternalref{::type scope:x '->' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqref{NFO.BoolExpr.eq bexpr}{\coqdocdefinition{eq\_bexpr}} (\coqdocvariable{R} \coqref{Internal.Misc.:::x 'xE2xA8x80' x}{\coqdocnotation{⨀}} \coqref{Internal.Misc.:::x 'xE2xA8x80' x}{\coqdocnotation{(}}\coqdocvariable{f1} \coqref{Internal.Misc.:::x 'xE2xA8x81' x}{\coqdocnotation{⨁}} \coqdocvariable{f3}\coqref{Internal.Misc.:::x 'xE2xA8x80' x}{\coqdocnotation{)}}) (\coqref{NFO.BoolExpr.map}{\coqdocdefinition{map}} \coqexternalref{inl}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocconstructor{inl}} \coqdocvariable{e1}) (\coqref{NFO.BoolExpr.map}{\coqdocdefinition{map}} \coqexternalref{inr}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocconstructor{inr}} \coqdocvariable{e3}).\coqdoceol
\end{coqdoccode}

\subsection{Membership}

\begin{coqdoccode}
  \coqdocemptyline
  \coqdocnoindent
  \coqdockw{Definition} \coqdef{NFO.Xor.xor}{xor}{\coqdocdefinition{xor}} \coqdocvar{p} \coqdocvar{q} := \coqexternalref{::type scope:x 'x5C/' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{(}}\coqdocvariable{p} \coqexternalref{::type scope:x '/x5C' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\land}}} \coqexternalref{::type scope:'x7E' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\lnot}}}\coqdocvariable{q}\coqexternalref{::type scope:x 'x5C/' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{)}} \coqexternalref{::type scope:x 'x5C/' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\lor}}} \coqexternalref{::type scope:x 'x5C/' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{(}}\coqexternalref{::type scope:'x7E' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\lnot}}}\coqdocvariable{p} \coqexternalref{::type scope:x '/x5C' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\land}}} \coqdocvariable{q}\coqexternalref{::type scope:x 'x5C/' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{)}}.\coqdoceol
  \coqdocnoindent
  \coqdockw{Infix} \coqdef{NFO.Xor.:::x 'xE2x8AxBB' x}{"}{"}⊻" := \coqref{NFO.Xor.xor}{\coqdocdefinition{xor}} (\coqdoctac{at} \coqdockw{level} 80, \coqdoctac{right} \coqdockw{associativity}).\coqdoceol
  \coqdocemptyline
\end{coqdoccode}

\begin{coqdoccode}
  \coqdocnoindent
  \coqdockw{Fixpoint} \coqdef{NFO.In.IN bexpr}{IN\_bexpr}{\coqdocdefinition{IN\_bexpr}} \{\coqdocvar{Z}\} (\coqdocvar{R}: \coqdocvariable{Z} \coqexternalref{::type scope:x '->' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdocvariable{Z} \coqexternalref{::type scope:x '->' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdockw{Prop}) \coqdocvar{y} (\coqdocvar{p}: \coqref{NFO.BoolExpr.BExpr}{\coqdocinductive{BExpr}}) := \coqdockw{match} \coqdocvariable{p} \coqdockw{with}\coqdoceol
  \coqdocindent{1.00em}
  \ensuremath{|} \coqref{NFO.BoolExpr.Bot}{\coqdocconstructor{Bot}} \ensuremath{\Rightarrow} \coqexternalref{False}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocinductive{False}}\coqdoceol
  \coqdocindent{1.00em}
  \ensuremath{|} \coqref{NFO.BoolExpr.Atom}{\coqdocconstructor{Atom}} \coqdocvar{x} \ensuremath{\Rightarrow} \coqdocvariable{R} \coqdocvar{x} \coqdocvariable{y}\coqdoceol
  \coqdocindent{1.00em}
  \ensuremath{|} \coqref{NFO.BoolExpr.Not}{\coqdocconstructor{Not}} \coqdocvar{p'} \ensuremath{\Rightarrow} \coqexternalref{::type scope:'x7E' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\lnot}}} \coqref{NFO.In.IN bexpr}{\coqdocdefinition{IN\_bexpr}} \coqdocvariable{R} \coqdocvariable{y} \coqdocvar{p'}\coqdoceol
  \coqdocindent{1.00em}
  \ensuremath{|} \coqref{NFO.BoolExpr.Or}{\coqdocconstructor{Or}} \coqdocvar{p1} \coqdocvar{p2} \ensuremath{\Rightarrow} \coqref{NFO.In.IN bexpr}{\coqdocdefinition{IN\_bexpr}} \coqdocvariable{R} \coqdocvariable{y} \coqdocvar{p1} \coqexternalref{::type scope:x 'x5C/' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\lor}}} \coqref{NFO.In.IN bexpr}{\coqdocdefinition{IN\_bexpr}} \coqdocvariable{R} \coqdocvariable{y} \coqdocvar{p2}\coqdoceol
  \coqdocnoindent
  \coqdockw{end}.\coqdoceol
\end{coqdoccode}

aaa

\begin{coqdoccode}
  \coqdocnoindent
  \sout{\coqdockw{Definition}} \coqdoclemma{IN} \coqdocvar{s} \coqdocvar{s'} := \coqdockw{match} \coqdocvariable{s'} \coqdockw{with}\coqdoceol
  \coqdocindent{2.00em}
  \ensuremath{|} \coqref{NFO.Model.S}{\coqdocconstructor{S}} \coqdocvar{X} \coqdocvar{Y} \coqdocvar{f} \coqdocvar{g} \coqdocvar{e} \ensuremath{\Rightarrow} \coqdocvar{s} \coqref{NFO.In.AIN}{\AIN} \coqdocvar{f}
  ⊻ \coqref{NFO.In.IN bexpr}{\coqdocdefinition{IN\_bexpr}} \coqref{NFO.In.IN}{\coqdocdefinition{IN}} \coqdocvar{s} (\coqref{NFO.BoolExpr.map}{\coqdocdefinition{map}} \coqdocvariable{g} \coqdocvariable{e})\coqdoceol
  \coqdocnoindent \coqdockw{end}.
\end{coqdoccode}

bbb

\begin{coqdoccode}
  \coqdocnoindent
  \coqdockw{Lemma} \coqdef{NFO.In.IN bexpr map2}{IN\_bexpr\_map2}{\coqdoclemma{IN\_bexpr\_map2}} \{\coqdocvar{Z}\} (\coqdocvar{R}: \coqdocvariable{Z} \coqexternalref{::type scope:x '->' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdocvariable{Z} \coqexternalref{::type scope:x '->' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdockw{Prop}) \coqdocvar{I} \coqdocvar{f} \coqdocvar{x} (\coqdocvar{e}: @\coqref{NFO.BoolExpr.BExpr}{\coqdocinductive{BExpr}} \coqdocvariable{I}):\coqdoceol
  \coqdocindent{1.00em}
  \coqref{NFO.BoolExpr.:::'xE2x9FxA6' x 'xE2x9FxA7'}{\coqdocnotation{⟦}} \coqref{NFO.BoolExpr.map}{\coqdocdefinition{map}} (\coqdockw{fun} \coqdocvar{i} \ensuremath{\Rightarrow} \coqdocvariable{R} (\coqdocvariable{f} \coqdocvariable{i}) \coqdocvariable{x}) \coqdocvariable{e} \coqref{NFO.BoolExpr.:::'xE2x9FxA6' x 'xE2x9FxA7'}{\coqdocnotation{⟧}} \coqexternalref{::type scope:x '<->' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\leftrightarrow}}} \coqref{NFO.In.IN bexpr}{\coqdocdefinition{IN\_bexpr}} \coqdocvariable{R} \coqdocvariable{x} (\coqref{NFO.BoolExpr.map}{\coqdocdefinition{map}} \coqdocvariable{f} \coqdocvariable{e}).\coqdoceol
\end{coqdoccode}

ccc

\begin{coqdoccode}
  \coqdocemptyline
  \coqdocnoindent
  \coqdockw{Local} \coqdockw{Definition} \coqdef{NFO.In.IN'}{IN'}{\coqdocdefinition{IN'}} : \coqref{NFO.Model.SET}{\coqdocinductive{SET}} \coqexternalref{::type scope:x '*' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocnotation{\ensuremath{\times}}} \coqref{NFO.Model.SET}{\coqdocinductive{SET}} \coqexternalref{::type scope:x '->' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdockw{Prop}.\coqdoceol
  \coqdocindent{0.50em}
  \coqdoctac{refine} ( \coqexternalref{Fix}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Wf}{\coqdocdefinition{Fix}} (\coqexternalref{wf swapprod}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Wellfounded.Lexicographic\_Product}{\coqdoclemma{wf\_swapprod}} \coqdocvar{\_} \coqref{NFO.Wf.lt}{\coqdocinductive{lt}} \coqref{NFO.Wf.wf lt}{\coqdoclemma{wf\_lt}}) (\coqdockw{fun} \coqdocvar{\_} \ensuremath{\Rightarrow} \coqdockw{Prop}) \coqdoceol
  \coqdocindent{1.00em}
  (\coqdockw{fun} \coqdocvar{i} \coqdockw{rec} \ensuremath{\Rightarrow} \coqdoceol
  \coqdocindent{2.00em}
  (\coqdockw{match} \coqdocvariable{i} \coqdockw{as} \coqdocvar{i0} \coqdockw{return} (\coqdocvariable{i} \coqexternalref{::type scope:x '=' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{=}} \coqdocvariable{i0} \coqexternalref{::type scope:x '->' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\rightarrow}}} \coqdockw{Prop}) \coqdockw{with} \coqdoceol
  \coqdocindent{3.00em}
  \coqexternalref{::core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvar{z}\coqexternalref{::core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocnotation{,}} \coqref{NFO.Model.S}{\coqdocconstructor{S}} \coqdocvar{X} \coqdocvar{Y} \coqdocvar{f} \coqdocvar{g} \coqdocvar{e}\coqexternalref{::core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocnotation{)}}
  % \coqdoceol
  % 
  \ensuremath{\Rightarrow} \coqdockw{fun} \coqdocvar{eqx}   \ensuremath{\Rightarrow} \coqdoceol
  \coqdocindent{4.00em}
  \coqdocvar{z} \AIN ~\coqdocvar{f} \coqref{NFO.Xor.:::x 'xE2x8AxBB' x}{\coqdocnotation{⊻}} \coqref{NFO.BoolExpr.:::'xE2x9FxA6' x 'xE2x9FxA7'}{\coqdocnotation{⟦}} \coqref{NFO.BoolExpr.map}{\coqdocdefinition{map}} (\coqdockw{fun} \coqdocvar{y} \ensuremath{\Rightarrow} \coqdocvariable{rec} \coqexternalref{::core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvar{g} \coqdocvariable{y}\coqexternalref{::core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvar{z}\coqexternalref{::core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocnotation{)}} \coqdocvar{\_}) \coqdocvar{e} \coqref{NFO.BoolExpr.:::'xE2x9FxA6' x 'xE2x9FxA7'}{\coqdocnotation{⟧}} \coqdoceol
  \coqdocindent{2.00em}
  \coqdockw{end}) \coqexternalref{eq refl}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocconstructor{eq\_refl}} 
  )).\coqdoceol
  \coqdocnoindent
  [...] \coqdockw{Defined}.\coqdoceol
  \coqdocnoindent
  \coqdockw{Definition} \coqdef{NFO.In.IN}{IN}{\coqdocdefinition{IN}} \coqdocvar{s} \coqdocvar{s'} := \coqref{NFO.In.IN'}{\coqdocdefinition{IN'}} \coqexternalref{::core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocnotation{(}}\coqdocvariable{s}\coqexternalref{::core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocnotation{,}} \coqdocvariable{s'}\coqexternalref{::core scope:'(' x ',' x ',' '..' ',' x ')'}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes}{\coqdocnotation{)}}.\coqdoceol
\coqdocemptyline
\end{coqdoccode}

\begin{coqdoccode}
  \coqdocnoindent
  \coqdockw{Infix} ``\BIN'' := (\coqdocdefinition{in\_bexpr} \coqdocdefinition{IN}).\coqdoceol
  \coqdocnoindent
  \coqdockw{Lemma} \coqdefRef{NFO.In.IN unfold}{IN\_unfold}{\coqdoclemma{IN\_unfold}} \{\coqdocvar{X} \coqdocvar{Y} \coqdocvar{f} \coqdocvar{g} \coqdocvar{e} \coqdocvar{s}\} :\coqdoceol
  \coqdocindent{1.00em}
  \coqdocvariable{s} \coqref{NFO.In.IN}{\IN} (\coqref{NFO.Model.S}{\coqdocconstructor{S}} \coqdocvariable{X} \coqdocvariable{Y} \coqdocvariable{f} \coqdocvariable{g} \coqdocvariable{e}) \coqexternalref{::type scope:x '<->' x}{http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic}{\coqdocnotation{\ensuremath{\leftrightarrow}}} \coqdocvariable{s} \coqref{NFO.In.AIN}{\AIN} \coqdocvariable{f} \coqref{NFO.Xor.:::x 'xE2x8AxBB' x}{\coqdocnotation{⊻}} \coqdocvariable{s} \coqref{NFO.In.BIN}{\BIN} (\coqref{NFO.BoolExpr.map}{\coqdocdefinition{map}} \coqdocvariable{g} \coqdocvariable{e}).\coqdoceol
\end{coqdoccode}
\begin{proof}
  By \coqref{NFO.In.IN bexpr map2}{\coqdoclemma{IN\_bexpr\_map2}}.
\end{proof}
